(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{551:function(t,e,a){"use strict";a.r(e);var s=a(4),v=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("img",{attrs:{src:t.$withBase("/img/nuxt-lifecycle.svg"),alt:"nuxt-lifecycle"}}),t._v(" "),a("p",[a("a",{attrs:{href:"https://nuxtjs.org/docs/2.x/concepts/nuxt-lifecycle",target:"_blank",rel:"noopener noreferrer"}},[t._v("詳細說明"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"server-side"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server-side"}},[t._v("#")]),t._v(" SERVER SIDE")]),t._v(" "),a("ul",[a("li",[a("h3",{attrs:{id:"middleware-中間層執行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#middleware-中間層執行"}},[t._v("#")]),t._v(" "),a("code",[t._v("middleware")]),t._v(" 中間層執行")]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("渲染頁面")]),t._v(" 之前調用\n"),a("a",{attrs:{href:"https://ithelp.ithome.com.tw/articles/10207822",target:"_blank",rel:"noopener noreferrer"}},[t._v("操作技巧"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("可以 "),a("strong",[t._v("設置")]),t._v("或"),a("strong",[t._v("檢查條件")]),t._v("甚至"),a("strong",[t._v("重定向頁面")])])]),t._v(" "),a("p",[a("strong",[t._v("並按照 "),a("code",[t._v("middleware")]),t._v(" 設定層級，依序執行，從 1~3")])]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("Global")]),t._v("：影響所有 "),a("code",[t._v("routes")]),t._v("。定義位置： "),a("code",[t._v("nuxt.config.js")]),t._v(" 設的 "),a("code",[t._v("middleware")])]),t._v(" "),a("li",[a("strong",[t._v("Layout")]),t._v(" ：影響群組 "),a("code",[t._v("routes")]),t._v("。定義位置： "),a("strong",[t._v("Layout Component")]),t._v(" 設的 "),a("code",[t._v("middleware")])]),t._v(" "),a("li",[a("strong",[t._v("Page")]),t._v(" : 影響頁面 "),a("code",[t._v("route")]),t._v("。 定義位置： "),a("strong",[t._v("Page Component")]),t._v(" 設的 "),a("code",[t._v("middleware")])])])])]),t._v(" "),a("hr"),t._v(" "),a("ul",[a("li",[a("h3",{attrs:{id:"validate-驗證"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validate-驗證"}},[t._v("#")]),t._v(" "),a("code",[t._v("validate")]),t._v(" 驗證")]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("渲染頁面")]),t._v(" 之前調用")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("用於"),a("strong",[t._v("驗證動態路由參數")]),t._v("，大多只有使用 "),a("code",[t._v("true")]),t._v("、"),a("code",[t._v("false")]),t._v("來做判斷依據!!")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true || false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("假設，沒有經過驗證的"),a("code",[t._v("id")]),t._v("，無法進入此頁面，你可以使用這個 "),a("code",[t._v("hook")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",[t._v("如果 "),a("code",[t._v("validate")]),t._v(" 為 "),a("code",[t._v("false")]),t._v("，則頁面將會無法進入且導引為 "),a("strong",[t._v("404")]),t._v("。\n通常需要先定義到 "),a("code",[t._v("layout")]),t._v(" 上，"),a("code",[t._v("404")]),t._v(" or "),a("code",[t._v("500")]),t._v(" 的頁面。")])])]),t._v(" "),a("li",[a("h3",{attrs:{id:"asyncdata"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#asyncdata"}},[t._v("#")]),t._v(" "),a("code",[t._v("asyncData")])]),t._v(" "),a("p",[t._v("每次渲染頁面前，都會執行的 "),a("code",[t._v("hook")]),t._v("，"),a("RouterLink",{attrs:{to:"/nuxt/async.html"}},[t._v("asyncData 操作")])],1),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("通常，由此操作 "),a("strong",[t._v("非同步")]),t._v(" 取得資料的 "),a("code",[t._v("hook")]),t._v("；\n這邊 "),a("code",[t._v("return")]),t._v(" 的操作，會"),a("strong",[t._v("覆蓋")]),t._v("掉 "),a("code",[t._v("data")]),t._v("的資料。")])])]),t._v(" "),a("li",[a("h3",{attrs:{id:"beforecreate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#beforecreate"}},[t._v("#")]),t._v(" "),a("code",[t._v("beforeCreate")])]),t._v(" "),a("p",[t._v("在進入 "),a("code",[t._v("client")]),t._v(" 還會被執行一次")])]),t._v(" "),a("li",[a("h3",{attrs:{id:"create"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create"}},[t._v("#")]),t._v(" "),a("code",[t._v("create")])]),t._v(" "),a("p",[t._v("在進入 "),a("code",[t._v("client")]),t._v(" 還會被執行一次")])])]),t._v(" "),a("ul",[a("li",[a("h3",{attrs:{id:"fetch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fetch"}},[t._v("#")]),t._v(" "),a("code",[t._v("fetch()")])]),t._v("\n每次渲染頁面前，都會執行的 "),a("code",[t._v("hook")]),t._v("，類似 "),a("code",[t._v("asyncData")]),t._v(" "),a("strong",[t._v("nuxt 2.12 新增的功能")]),t._v(" "),a("ul",[a("li",[t._v("可以使用 "),a("code",[t._v("this")])]),t._v(" "),a("li",[t._v("可以在 "),a("code",[t._v("methods")]),t._v(" 被操作，"),a("code",[t._v("this\b.$fetch()")]),t._v(" or "),a("code",[t._v('<button @click="$fetch"></button>')])]),t._v(" "),a("li")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",[t._v("當 "),a("code",[t._v("fetch(context)")]),t._v(" 被傳入引入時，它就會變成 "),a("strong",[t._v("舊的 fetch(context)")]),t._v(" 功能，"),a("strong",[t._v("this")]),t._v(" 將會失效!!")])])])])])}),[],!1,null,null,null);e.default=v.exports}}]);