(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{503:function(a,e,r){"use strict";r.r(e);var s=r(4),t=Object(s.a)({},(function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("p",[a._v("heroku 是一個雲端平台，給你用來部屬 "),r("strong",[a._v("動態程式語言")]),a._v(" 的平台，所以你可以很輕鬆的部署上你的 "),r("strong",[a._v("node")]),a._v(" 專案。")]),a._v(" "),r("h2",{attrs:{id:"參考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#參考"}},[a._v("#")]),a._v(" 參考")]),a._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://nuxtjs.org/docs/2.x/deployment/heroku-deployment",target:"_blank",rel:"noopener noreferrer"}},[a._v("Deploy Nuxt on Heroku"),r("OutboundLink")],1)]),a._v(" "),r("li",[r("a",{attrs:{href:"https://www.youtube.com/watch?v=c4_xPM7zSAY",target:"_blank",rel:"noopener noreferrer"}},[a._v("Deploy NUXT on Heroku Video1"),r("OutboundLink")],1)])]),a._v(" "),r("h2",{attrs:{id:"heroku"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#heroku"}},[a._v("#")]),a._v(" Heroku")]),a._v(" "),r("ul",[r("li",[a._v("註冊帳號 "),r("a",{attrs:{href:"https://dashboard.heroku.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("HEROKU"),r("OutboundLink")],1),a._v(" 網站")]),a._v(" "),r("li",[a._v("安裝 heroku cli")])]),a._v(" "),r("hr"),a._v(" "),r("h2",{attrs:{id:"nuxt"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nuxt"}},[a._v("#")]),a._v(" NUXT")]),a._v(" "),r("h3",{attrs:{id:"創建的-heroku-app-二擇一"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#創建的-heroku-app-二擇一"}},[a._v("#")]),a._v(" 創建的 "),r("strong",[a._v("heroku")]),a._v(" app (二擇一)")]),a._v(" "),r("ul",[r("li",[r("p",[a._v("heroku 創造：")]),a._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://dashboard.heroku.com/apps",target:"_blank",rel:"noopener noreferrer"}},[a._v("Create new app"),r("OutboundLink")],1)]),a._v(" "),r("li",[r("code",[a._v("heroku login")])]),a._v(" "),r("li",[r("code",[a._v("heroku git:remote -a nuxt-deploy-heroku")]),a._v(" 連結 heroku git")])])]),a._v(" "),r("li",[r("p",[a._v("在專案內創造：")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("heroku create "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("yourAppName"),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])])])]),a._v(" "),r("p",[a._v("創建完成，會回覆一個 "),r("a",{attrs:{href:"http://heroku.com",target:"_blank",rel:"noopener noreferrer"}},[a._v("heroku.com"),r("OutboundLink")],1),a._v(" 的 url ，可以看到你的 app 所在的地方。")]),a._v(" "),r("p",[a._v("或者，你也可以輸入 "),r("code",[a._v("heroku open")]),a._v(" 會自動開始 app 的 link。")]),a._v(" "),r("hr"),a._v(" "),r("h3",{attrs:{id:"設置-heroku-環境變數"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#設置-heroku-環境變數"}},[a._v("#")]),a._v(" 設置 heroku 環境變數")]),a._v(" "),r("p",[a._v("首先，我們希望 app 可以監聽 "),r("code",[a._v("0.0.0.0")]),a._v(" 埠，且是在 "),r("code",[a._v("production")]),a._v(" (正式)的模式下監聽。")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("heroku config:set "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HOST")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),r("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0\nheroku config:set "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NODE_ENV")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("production\nheroku config:set "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NPM_CONFIG_PRODUCTION")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("false\n")])])]),r("p",[a._v("當然，你也可以在 heroku dashboard 的 setting 進行設置。")]),a._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",[r("strong",[a._v("設置完成後，查看 heroku "),r("code",[a._v("config")]),a._v(" 設置")])]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("heroku config\n")])])])]),a._v(" "),r("hr"),a._v(" "),r("h3",{attrs:{id:"建立-procfile-檔案"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#建立-procfile-檔案"}},[a._v("#")]),a._v(" 建立 "),r("code",[a._v("Procfile")]),a._v(" 檔案")]),a._v(" "),r("p",[a._v("這是供 "),r("code",[a._v("heroku")]),a._v(" 明白的命令檔案。")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("web: nuxt start\n")])])]),r("p",[a._v("這是指示 server "),r("code",[a._v("build")]),a._v(" 後，要運行的命令，運行 "),r("code",[a._v("nuxt star")])]),a._v(" "),r("hr"),a._v(" "),r("h3",{attrs:{id:"部屬-heroku"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#部屬-heroku"}},[a._v("#")]),a._v(" 部屬 "),r("code",[a._v("heroku")])]),a._v(" "),r("ul",[r("li",[r("p",[a._v("如果在 "),r("code",[a._v("master")])]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push heroku master\n")])])])]),a._v(" "),r("li",[r("p",[a._v("如果在其它的支線")]),a._v(" "),r("p",[a._v("需要指向到 "),r("code",[a._v("heroku")]),a._v(" 的 "),r("code",[a._v("master")]),a._v(" 這是它預設的部屬支線。")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push heroku develop:master\n")])])])])]),a._v(" "),r("hr"),a._v(" "),r("h2",{attrs:{id:"例外處理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#例外處理"}},[a._v("#")]),a._v(" 例外處理")]),a._v(" "),r("h3",{attrs:{id:"heroku-卡在-build"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#heroku-卡在-build"}},[a._v("#")]),a._v(" heroku 卡在 build")]),a._v(" "),r("p",[a._v("某些時候，為何會卡在 "),r("code",[a._v("build")]),a._v(" 一直 "),r("strong",[a._v("pendding")]),a._v(" 狀態，這樣會讓你的部署進不了下一步。(會持續 pedding 中 很久)。 ⇒ 這個時候，你必預要中止這個 "),r("code",[a._v("build")]),a._v(" ，你可以這樣做：")]),a._v(" "),r("ul",[r("li",[r("p",[a._v("安裝 heroku 套件")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("heroku plugins:install heroku-builds\n")])])])]),a._v(" "),r("li",[r("p",[a._v("獲取最近 "),r("code",[a._v("build")]),a._v(" 的列表")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("heroku builds -a "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("YOUR_APP_NAME"),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),r("p",[a._v("就會出現，目前的列表：")]),a._v(" "),r("img",{attrs:{src:a.$withBase("/img/herokuPendding.png")}}),a._v(" "),r("p",[a._v("第一行將是您當前正在運行的構建，第一列是構建 ID。")])]),a._v(" "),r("li",[r("p",[a._v("取消列表工作")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("heroku builds:cancel "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("BUILD_ID"),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" -a "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("YOUR_APP_NAME"),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),r("p",[a._v("回覆：Stopping build 5c3967d1-fbdb-4f73-81de-bab1063e5a2b... done")])])])])}),[],!1,null,null,null);e.default=t.exports}}]);